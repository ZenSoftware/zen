<mat-dialog-content>
  @if(loading) {
    <zen-loading [backdrop]="false"/>
  }

  @if(data.action === 'create') {
    <zen-register-form (registered)="registered()"></zen-register-form>
  }

  @if(data.action === 'edit') {
    <form id="user-form" [formGroup]="form" (ngSubmit)="onSubmit()">

      <div class="row">
        <div class="col pe-2">
          <zen-username-input [formControl]="username" required/>
        </div>
        <div class="col">
          <zen-email-input [formControl]="email" required/>
        </div>
      </div>

      <zen-roles-input [formControl]="roles"/>

    </form>
  }
</mat-dialog-content>

<mat-dialog-actions class="d-flex justify-content-between">
  @if(data.action === 'edit') {
    <button type="submit" form="user-form"
    mat-raised-button color="primary"
    [disabled]="loading || form.invalid">
      <i class="fa-solid fa-fw fa-save"></i>
      Save
    </button>
  }

  <!-- <button mat-raised-button (click)="form.markAllAsTouched()" [disabled]="loading">
    <i class="fa-solid fa-fw fa-clipboard-list"></i>
    Validate
  </button> -->

  <button mat-raised-button mat-dialog-close [disabled]="loading">
    <i class="fa-solid fa-fw fa-ban"></i>
    Cancel
  </button>
</mat-dialog-actions>